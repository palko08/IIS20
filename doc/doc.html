
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavičce dokumentu 
     podle použitého editoru -->

<h1>1. Festival: rezervace vstupenek na hudební festivaly</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoři</dt>
	<dd>První jméno <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
	    <a href="mailto:xnosko05@stud.fit.vutbr.cz">xnosko05@stud.fit.vutbr.cz</a> -
		Front-end, výpomoc s backendom
	</dd>
	<dd>Druhé jméno <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
	    <a href="mailto:xpalko08@stud.fit.vutbr.cz">xpalko08@stud.fit.vutbr.cz</a> - 
		Databáza, výpomoc s backendom
	</dd>
  <dd>Třetí jméno <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
	    <a href="mailto:xsubap00@stud.fit.vutbr.cz">xsubap00@stud.fit.vutbr.cz</a> - 
		Backend
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://www.stud.fit.vutbr.cz/~xpalko08/">http://www.stud.fit.vutbr.cz/~xpalko08/</a></dd>
	<dd></dd>
</dl>

<h2>Uživatelé systému pro testování</h2>
<p>Uveďte prosím existující zástupce <strong>všech rolí uživatelů</strong>.</p>
<table>
<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin</td><td>admin</td><td>Administrátor</td></tr>
<tr><td>poradatel</td><td>poradatel</td><td>Poradateľ</td></tr>
<tr><td>pokladni</td><td>pokladni</td><td>Pokladní</td></tr>
<tr><td>divak</td><td>divak</td><td>Divák</td></tr>
</table>

<p>(Diagram případů užití není nutné vkládat, pokud IS implementuje role a případy užití definované zadáním.)</p> 

<h2>Implementace</h2>
<p>Stručná dokumentace k implementaci, která popisuje, které části projektu (např. PHP skripty) implementují jednotlivé případy použití.</p>
<p>Súbory začínajúce slovom class reprezentujú model aplikácie.</p>
<p><b>Administrátor:</b>
	<ul><li>správa užívatelov - view/show_users.php, update_users.php, delete.php</li></ul>
<b>Pořadatel</b>
	<ul>
	<li>správa festivalu - view/show_festivals.php, update_festivals.php, delete.php</li>
	<li>správa interpretov -view/show_interprets.php, update_interprets.php, delete.php </li>
	<li>pridanie člena interpreta - view/add_members.php, add_member.php</li>
	<li>vytvorenie festivalu - view/add_festival.php, festival_insert.php</li>
	<li>vytvorenie interpeta - view/add_artist.php, interpret_insert.php</li>
	<li>vytvorenie rozpisu - view/create_lineup.php, rozpis_insert.php</li>
	<li>přihlašuje interprety na festivaly - create_lineup.php</li>
	</ul>
<b>Pokladní:</b>
	<ul>
		<li>spravuje rezervace pro vybrané festivaly - view/show_tickets.php, change_stav.php. 
			Max. počet vstupeniek na festival na užívateľa je 10. </li>
	</ul>
<b>Divák:</b>
	<ul>
		<li>rezervuje vstupenky - cart.php, checkout.php, add_ticket_rezervation.php </li>
		<li>sleduje stav jeho rezervací - tickets.php </li>
		<li>editácia profilu - update_user.php, profile.php </li>
	</ul>
<b>Neregistrovaný návštěvník:</b>
	<ul>
		<li>vyhledává a prohlíží festivaly, interprety dle různých vlastností</li>
		<li>rezervácia bez registrácie - cart.php, checkout.php, add_ticket_rezervation.php</li>
		<li>registrácia - register.php </li>
	</ul>
</p>

<h3>Databáze</h3>

<img src="ER_diagram.png"/>

<h2>Instalace</h2>

<ul>
<li>Po extrakcii archívu je potrebné len priradiť potrebné oprávnenia. Na servery EVA je doporučené nasledovať pokyny na <a href="https://www.fit.vut.cz/units/cvt/faq/.cs">FAQ</a> bod 13. Ak chcete hostovat databázu na vlastnom účte, je treba prepísať prihlasovacie údaje v skripte connect_db.php.</li>
<li>Pre správny chod stránky sa vyžaduje PHP verzia 7.3. Verzia MySQL na servery EVA je dostačujúca. Inštalácia iných softwarov nie je potrebná.</li>
<li>Inicializácia databázy prebieha cez phpMyAdmin na servery EVA. Pri využití vlastného účtu na servery EVA je potrebné prepísať v SQL skriptoch na prvom riadku názov databázy, aby sa zhodovala s vašim účtom. Databáza sa inicializuje skriptom create_tables.sql a testovacie dáta sa do nej vkladajú skriptom insert_mock_data.sql. Na dropnutie databázy sa použije skript drop_tables.sql.</li>
</ul>

<h2>Známé problémy</h2>
<p>Ak sa zaregistruje neregistrovaný užívateľ, neukážu sa mu lístky zarezervované pred registráciou.
Nedajú sa aktualizovať žánre.</p>

</body>
</html>

